{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"scheduler-entry","identifier":"alumio-to-magento-2-configurable-products-outgoing","name":"Alumio to Magento 2 - Configurable Products (Outgoing)","object":{"parameters":{"job":[{"prototype":"run-outgoing","parameters":{"route":"synchronize-products-akeneo-to-magento","numTasks":100}}],"handlers":[],"priority":2,"expression":"*/5 * * * *"}},"description":"Scheduler to Execute all tasks for Products to Magento 2","owner":null,"disabled":true}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"route-configuration","identifier":"synchronize-products-akeneo-to-magento","name":"Synchronize Products - Akeneo to Magento 2","object":{"parameters":{"incoming":"synchronize-products-akeneo-to-magento-2-fetch-storage-product-model-alumio-base","outgoing":"magento-2-send-product","realtime":false,"transformers":[],"waitingStatus":false,"parallelExecution":[]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"incoming-configuration","identifier":"synchronize-products-akeneo-to-magento-2-fetch-storage-product-model-alumio-base","name":"Synchronize Products - Akeneo to Magento 2 - Fetch Storage Product Model Alumio Base","object":{"parameters":{"entityType":"base-product","subscriber":{"prototype":"storage-subscriber","parameters":{"storage":"alumio-product-model-parent-alumio-base-product-model"}},"transformers":["akeneo-to-magento-2-products-filter-by-previous-storage-entities"]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"alumio-product-model-parent-alumio-base-product-model","name":"Alumio - Product Model Parent - Alumio Base Product Model","object":{"parameters":{"path":"alumio-product-model-parent-alumio-base-product-model-01K2PMG2BJ6SE1WWS9S9SR772C","logger":{"parameters":{"actions":[]}}}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"entity","identifier":"base-product","name":"Base - Product","object":{"parameters":{"link":"https://schemas.alumio.com/v2/Product.json","schema":{"$ref":"https://schemas.alumio.com/v2/Product.json"},"identifierPath":["code"]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-to-magento-2-products-filter-by-previous-storage-entities","name":"Akeneo to Magento 2 - Products - Filter By Previous storage entities","object":{"meta":[],"prototype":"storage-filter-stored-entity","parameters":{"storage":"akeneo-to-magento-2-products-delta-storage","addEntityToStorage":true}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"akeneo-to-magento-2-products-delta-storage","name":"Akeneo to Magento 2 - Products - Delta Storage","object":{"parameters":{"path":"akeneo-to-magento-2-products-delta-storage-01K2PMG2C5D3VH3C9X9AAG20VZ","logger":{"parameters":{"actions":[]}}}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"outgoing-configuration","identifier":"magento-2-send-product","name":"Magento 2 - Send - Product","object":{"parameters":{"publisher":{"prototype":"no-action-publisher","parameters":[]},"transformers":["magento-2-product-convert-from-alumio-base-product-1","magento-2-send-products-wrapper"]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-1","name":"Magento 2 - Product - Convert from Alumio Base Product","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"children"}}}}],"elseCases":[],"transformers":[{"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-product-convert-from-alumio-base-product-children"]}}],"elseTransformers":[{"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-product-convert-from-alumio-base-product-non-children"]}}]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-children","name":"Magento 2 - Product - Convert from Alumio Base Product - Children","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["children","products"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}},{"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"parent"}},"stripEnclosures":true}},{"prototype":"pattern-move","parameters":{"pattern":"parent.products","conditions":[],"replacement":"products"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"products"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-product-convert-from-alumio-base-product-base-mapping-1"]}}]}},{"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"parent"}},"nodeFilters":[],"nodeTransformers":[{"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-product-convert-from-alumio-base-product-base-mapping-1"]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-1","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["magento-2-product-convert-from-alumio-base-product-base-mapping-name-sku","magento-2-product-convert-from-alumio-base-product-base-mapping-price","magento-2-product-convert-from-alumio-base-product-base-mapping-fixed-key","magento-2-product-convert-from-alumio-base-product-base-mapping-attribute-set-id","magento-2-product-convert-from-alumio-base-product-base-mapping-other-fields-custom-attributes","magento-2-product-convert-from-alumio-base-product-base-mapping-type-id","magento-2-product-convert-from-alumio-base-product-base-mapping-extension-attributes","magento-2-product-convert-from-alumio-base-product-base-mapping-variant","magento-2-product-convert-from-alumio-base-product-base-mapping-localization-conditional","magento-2-product-convert-from-alumio-base-product-base-mapping-filter-key"]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-name-sku","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Name & SKU","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"name","value":"&{code}","mappers":[]},{"key":"sku","value":"&{code}","mappers":[{"prototype":"string-slugify","parameters":[]},{"prototype":"string-cut","parameters":{"start":0,"length":64}}]}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-price","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Price","object":{"prototype":"chain","parameters":{"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"pattern-copy","parameters":{"pattern":"prices","conditions":[],"replacement":"tempPrice"}}]}},{"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"tempPrice"}},"nodeFilters":[],"nodeTransformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"&{currencyCode}","value":"&{amount}","mappers":[]}]}}]}},{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"pattern-copy","parameters":{"pattern":"tempPrice.*.USD","conditions":[],"replacement":"price"}}]}}]}},"description":"Currently we use USD, you can change the format into any currencyCode, Change the Transformer Copy Pattern (Most Below) USD to any currency ","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-fixed-key","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Fixed Key","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"status","value":1,"mappers":[]},{"key":"visibility","value":4,"mappers":[]}]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"statusCode"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["statusCode"]}},"conditions":[{"prototype":"equals","parameters":{"value":true}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"status","value":1,"mappers":[]},{"key":"visibility","value":4,"mappers":[]}]}}],"elseTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"status","value":2,"mappers":[]},{"key":"visibility","value":1,"mappers":[]}]}}]}}],"elseTransformers":[]}}]}},"description":"Status, Visibility, etc.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-attribute-set-id","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Attribute Set ID","object":{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"attribute_set_id","value":"&{attributeSetCode}","mappers":[]}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-other-fields-custom-attributes","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Other Fields (Custom Attributes)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"convert-to-array","parameters":{"pattern":"customAttributes.*","recursive":false}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"customAttributes.*","conditions":[],"replacement":"customAttributes.$1.$1"}},{"meta":[],"prototype":"convert-to-array","parameters":{"pattern":"customAttributes","recursive":false}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"customAttributes.*.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"accessor-copy","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"value","conditions":[],"replacement":"name"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"value.*","conditions":[],"replacement":"value"}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-keys","parameters":[]},{"prototype":"list-reverse","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"name"}}}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"name.0","conditions":[],"replacement":"name"}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"name":true,"value":true}}}],"accessor":{"prototype":"key","parameters":{"keys":[]}}}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"value.1"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"value.0","conditions":[],"replacement":"value"}}],"elseTransformers":[]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"customAttributes.0"}}}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"customAttributes.0","conditions":[],"replacement":"custom_attributes"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"custom_attributes"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["name","attribute_code"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}}]}}]}},"description":"Customize this as you like","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-type-id","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Type ID","object":{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"variants"}}}}],"elseCases":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"type_id","value":"configurable","mappers":[]}]}}],"elseTransformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"type_id","value":"simple","mappers":[]}]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-extension-attributes","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Extension Attributes","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"categories"}},"nodeFilters":[],"nodeTransformers":[{"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["categoryCode","category_id"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"extension_attributes","value":{"category_links":[],"configurable_product_links":[],"configurable_product_options":""},"mappers":[]}]}},{"prototype":"pattern-copy","parameters":{"pattern":"categories.*","conditions":[],"replacement":"extension_attributes.category_links.$1"}},{"prototype":"pattern-copy","parameters":{"pattern":"variants.*.code","conditions":[],"replacement":"extension_attributes.configurable_product_links.$1"}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-variant","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Variant","object":{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"variants"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-product-convert-from-alumio-base-product-base-mapping-name-sku","magento-2-product-convert-from-alumio-base-product-base-mapping-price","magento-2-product-convert-from-alumio-base-product-base-mapping-fixed-key","magento-2-product-convert-from-alumio-base-product-base-mapping-attribute-set-id","magento-2-product-convert-from-alumio-base-product-base-mapping-other-fields-custom-attributes","magento-2-product-convert-from-alumio-base-product-base-mapping-variant-type-id","magento-2-product-convert-from-alumio-base-product-base-mapping-variant-extension-attributes","magento-2-product-convert-from-alumio-base-product-base-mapping-localization-conditional","magento-2-product-convert-from-alumio-base-product-base-mapping-filter-key"]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-variant-type-id","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Variant - Type ID","object":{"prototype":"chain","parameters":{"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"type_id","value":"simple","mappers":[]}]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-variant-extension-attributes","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Variant - Extension Attributes","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"pattern-copy","parameters":{"pattern":"categories","conditions":[],"replacement":"extension_attributes.category_links"}}]}},{"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"extension_attributes.category_links"}},"nodeFilters":[],"nodeTransformers":[{"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["categoryCode","category_id"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}}]}},"magento-2-product-convert-from-alumio-base-product-base-mapping-variant-extension-attributes-stock-item"]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-variant-extension-attributes-stock-item","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Variant - Extension Attributes - Stock Item","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"extension_attributes.stock_item","value":{"qty":100,"is_in_stock":true},"mappers":[]}]}}]}},"description":"This is Currently Static please customize the Stock you have.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-localization-conditional","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Localization (Conditional)","object":{"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"localizations"}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"transformers":["magento-2-product-convert-from-alumio-base-product-base-mapping-localization-1"]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-localization-1","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Localization","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"localizations"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"convert-to-array","parameters":{"pattern":"customAttributes.*","recursive":false}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"customAttributes.*","conditions":[],"replacement":"customAttributes.$1.attributeCode.$1"}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"channelCode":"&{channelCode || ''}"},"childrenPattern":"customAttributes.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"localizations.*.customAttributes.*.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-keys","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[]}}}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"localizations.*.customAttributes.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{\"0\"}","mappers":[]},{"key":"attribute_code","value":"&{attributeCode[0]}","mappers":[]}]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["channelCode"]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"attribute_code","value":"&{attribute_code}_&{channelCode}","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["0","attributeCode","channelCode"]}},"conditions":[]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"localizations"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"&{localeCode}","value":"&{customAttributes}","mappers":[]}]}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"en_US"}}}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localizations.*.en_US","conditions":[],"replacement":"tempLocale.$1"}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"tempLocale"}}}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"tempLocaleDone","value":"&{tempLocale[*][]}","mappers":[]}]}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"custom_attributes.*","conditions":[],"replacement":"custom_attributes.0.$1"}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"tempLocaleDone","conditions":[],"replacement":"custom_attributes.1"}},{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"custom_attributes"}}}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"custom_attributes","value":"&{custom_attributes[*][]}","mappers":[]}]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-base-mapping-filter-key","name":"Magento 2 - Product - Convert from Alumio Base Product - Base Mapping - Filter Key","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["code","customAttributes","attributeSetCode","parentCode","tempPrice","groups","prices","categories","identifier","statusCode","localizations","short_description_list","description_temporary","meta_description_list","tempLocale"]}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-product-convert-from-alumio-base-product-non-children","name":"Magento 2 - Product - Convert from Alumio Base Product - Non Children","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"products"}},"stripEnclosures":true}},{"prototype":"value-setter","parameters":{"configurations":[{"key":"products","value":["&{products}"],"mappers":[]}]}}]}},{"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"products"}},"nodeFilters":[],"nodeTransformers":[{"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-product-convert-from-alumio-base-product-base-mapping-1"]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-wrapper","name":"Magento 2 - Send - Products (Wrapper)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"products.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations"]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"type_id"}},"conditions":[{"prototype":"equals","parameters":{"value":"simple"}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-create-simple-product"]}}],"elseTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products"]}}]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations","name":"Magento 2 - Send - Products (Preparations)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"type_id"}},"conditions":[{"prototype":"equals","parameters":{"value":"configurable"}}]}}],"elseCases":[],"transformers":[{"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-configurable-product"]}}],"elseTransformers":[{"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-simple-product","magento-2-send-products-preparations-simple-product-adjust-with-the-default-value"]}}]}}]}},{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-configurable-product","name":"Magento 2 - Send - Products (Preparations - Configurable Product)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attribute-set-id","magento-2-send-products-preparations-fetch-the-attributes","magento-2-send-products-preparations-fetch-the-configurable-attributes","magento-2-send-products-preparations-fetch-the-category-ids",{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-category-ids","magento-2-send-products-preparations-simple-product-adjust-with-the-default-value","magento-2-send-products-preparations-configurable-product-remove-visibility-of-variants"]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["configurable_product_links"],"root":"extension_attributes"}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-attribute-set-id","name":"Magento 2 - Send - Products (Preparations - fetch the Attribute Set ID)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"magento-2-attribute-sets-akeneo-code-to-magento-2-id","storageKey":"&{attribute_set_id}","destination":"temp.attribute_set_id"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"temp.attribute_set_id"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"exception","parameters":{"message":"Please Fix the Attribute Sets data"}}],"elseTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"attribute_set_id","value":"&{temp.attribute_set_id}","mappers":[]}]}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"attribute_set_id":"&{temp.attribute_set_id}"},"childrenPattern":"variants.*"}},{"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attributes-types-into-storage"]}}]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"magento-2-attribute-sets-akeneo-code-to-magento-2-id","name":"Magento 2 - Attribute sets - Akeneo Code to Magento 2 Id","object":{"parameters":{"path":"magento-2-attribute-sets-akeneo-code-to-magento-2-id-01K2PMG2CBNS462C7BV889CJP9","logger":{"parameters":{"actions":[]}}}},"description":"Map Akeneo Family Code into Magento 2 Attribute Sets Id","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-attributes-types-into-storage","name":"Magento 2 - Send - Products (Preparations - Fetch the attributes types into storage)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"attribute_lists":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"magento-2-http-client","request":{"uri":"/rest/V1/products/attribute-sets/&{attribute_set_id}/attributes","payload":[],"plugins":[],"payloadType":"data","authentications":[]}}}}},{"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"attribute_set_id":"&{attribute_set_id}"},"childrenPattern":"attribute_lists.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"attribute_lists.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"backend_type":1,"attribute_code":1,"frontend_input":1,"attribute_set_id":1}}}],"accessor":{"prototype":"pattern","parameters":{"keys":[]}}}},{"prototype":"value-setter","parameters":{"configurations":[{"key":"id","value":"&{attribute_set_id}::&{attribute_code}","mappers":[]}]}},{"prototype":"storage-save-entity-in-storage","parameters":{"storage":"magento-2-attribute-type","storageKey":"&{id}"}}]}},{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["attribute_lists"]}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"http-client","identifier":"magento-2-http-client","name":"Magento 2 - HTTP Client","object":{"parameters":{"ssl":{"ssl_enable_npn":true,"ssl_verifyhost":true,"ssl_verifypeer":true,"ssl_enable_alpn":true},"proxy":[],"plugins":[{"prototype":"base-uri","parameters":{"uri":{"parameters":"${MAGENTO_BASE_URL}"},"config":[]}},{"prototype":"logger","parameters":{"formatter":"full"}},{"prototype":"header-append","parameters":{"headers":{"Accept":"application/json","Content-Type":"application/json"}}}],"httpauth":[],"connection":[],"development":{"resolve":[],"connect_to":[]},"authentications":[{"prototype":"magento-2-integration-oauth1","parameters":{"signature":{"prototype":"oauth1-hmac-sha256","parameters":[]},"accessToken":"${MAGENTO_ACCESS_TOKEN}","consumerKey":"${MAGENTO_CONSUMER_KEY}","consumerSecret":"${MAGENTO_CONSUMER_SECRET}","accessTokenSecret":"${MAGENTO_ACCESS_TOKEN_SECRET}"}}],"enableErrorHandling":true,"errorHttpCodeRanges":[{"to":500,"from":400},{"to":600,"from":500}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"magento-2-attribute-type","name":"Magento 2 - Attribute Type","object":{"parameters":{"path":"magento-2-attribute-type-01K2PMG2ENZAEQ0CM0GF687TQ3","logger":{"parameters":{"actions":[]}}}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-attributes","name":"Magento 2 - Send - Products (Preparations - fetch the Attributes)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"attribute_set_id":"&{attribute_set_id}"},"childrenPattern":"custom_attributes.*"}},{"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"attribute_set_id":"&{attribute_set_id}"},"childrenPattern":"variants.*.custom_attributes.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"custom_attributes.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attributes-get-attribute-option-id"]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.custom_attributes.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attributes-get-attribute-option-id"]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-attributes-get-attribute-option-id","name":"Magento 2 - Send - Products (Preparations - fetch the Attributes - get attribute option ID)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-string","parameters":[]}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"magento-2-attribute-options-akeneo-code-to-magento-2-id","storageKey":"&{attribute_code}::&{value}","destination":"option_value"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"option_value"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{option_value}","mappers":[]}]}}],"elseTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-1"]}}]}}],"elseTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-1"]}}]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["option_value","temp","attribute_set_id"]}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"magento-2-attribute-options-akeneo-code-to-magento-2-id","name":"Magento 2 - Attribute Options - Akeneo Code to Magento 2 Id","object":{"parameters":{"path":"magento-2-attribute-options-akeneo-code-to-magento-2-id-01K2PMG2EVTMT1PVYH521WYZ03","logger":{"parameters":{"actions":[]}}}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-1","name":"Magento 2 - Send - Products (Preparations - fetch the Attributes - get attribute values by conditional)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"magento-2-attribute-type","storageKey":"&{attribute_set_id}::&{attribute_code}","destination":"temp"}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"or-condition","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.backend_type"}},"conditions":[{"prototype":"equals","parameters":{"value":"boolean"}}]}},{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-boolean","parameters":[]}]}}]}}],"elseCases":[{"filter":{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.backend_type"}},"conditions":[{"prototype":"one-of","parameters":{"value":["varchar","text","static"]}}]}},"transformer":{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-text"]}}},{"filter":{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.backend_type"}},"conditions":[{"prototype":"equals","parameters":{"value":"decimal"}}]}},"transformer":{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-decimal"]}}},{"filter":{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.backend_type"}},"conditions":[{"prototype":"equals","parameters":{"value":"datetime"}}]}},"transformer":{"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-datetime"]}}}],"transformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-boolean"]}}],"elseTransformers":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-boolean","name":"Magento 2 - Send - Products (Preparations - fetch the Attributes - get attribute values by conditional - Boolean)","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"one-of","parameters":{"value":[false,null]}},{"prototype":"empty","parameters":[]}]}}]}}],"elseCases":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"0","mappers":[]}]}}],"elseTransformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"1","mappers":[]}]}}]}},{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-string","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-text","name":"Magento 2 - Send - Products (Preparations - fetch the Attributes - get attribute values by conditional - Text)","object":{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-object","parameters":[]}]}}],"elseCases":[{"filter":{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-array","parameters":{"strict":true}}]}},"transformer":{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"serialize-json","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}}],"transformers":[{"prototype":"conditional","parameters":{"filters":[{"prototype":"and-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"value.unit"}}}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"value.amount"}}}}]}}],"elseCases":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{value.amount} &{value.unit}","mappers":[]}]}}],"elseTransformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{value.amount} &{value.unit}","mappers":[]}]}}]}}],"elseTransformers":[]}},{"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-decimal","name":"Magento 2 - Send - Products (Preparations - fetch the Attributes - get attribute values by conditional - Decimal)","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-object","parameters":[]}]}}],"elseCases":[{"filter":{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-array","parameters":{"strict":true}}]}},"transformer":{"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{value[0].amount || value[0].value || value[0]}","mappers":[{"prototype":"cast-float","parameters":[]}]}]}}}],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"or-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"value.unit"}}}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"value.amount"}}}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{value.amount || value.unit}","mappers":[]}]}}],"elseTransformers":[{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-float","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}]}}],"elseTransformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{value[0].amount || value[0].value || value[0]}","mappers":[{"prototype":"cast-float","parameters":[]}]}]}}]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-attributes-get-attribute-values-by-conditional-datetime","name":"Magento 2 - Send - Products (Preparations - fetch the Attributes - get attribute values by conditional - Datetime)","object":{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"format-date","parameters":{"toFormat":"Y-m-d H:i:s"}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-configurable-attributes","name":"Magento 2 - Send - Products (Preparations - fetch the configurable attributes)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"code-transformer","parameters":{"code":"const product = data;\n\nfunction getAttributeCodes(attributes) {\n  return new Set(attributes.map(attr => attr.attribute_code));\n}\n\nfunction getVariantOnlyAttributesWithValues(rootAttributes, variants) {\n  const rootCodes = getAttributeCodes(rootAttributes);\n  const attributeMap = new Map();\n\n  variants.forEach(variant => {\n    const attrs = variant.custom_attributes || [];\n\n    attrs.forEach(attr => {\n      const code = attr.attribute_code;\n      const value = attr.value;\n\n      if (!rootCodes.has(code)) {\n        if (!attributeMap.has(code)) {\n          attributeMap.set(code, new Set());\n        }\n        attributeMap.get(code).add(value);\n      }\n    });\n  });\n\n  // Convert Set values to array and return as array of objects\n  return Array.from(attributeMap.entries()).map(([code, values]) => ({\n    attribute_code: code,\n    values: Array.from(values),\n  }));\n}\n\nconst result = getVariantOnlyAttributesWithValues(\n  product.custom_attributes,\n  product.variants\n);\n\nreturn result;","source":"&{@}","destination":"extension_attributes.configurable_product_options"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"extension_attributes.configurable_product_options.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"magento-2-attribute-akeneo-code-to-magento-2-id","storageKey":"&{attribute_code}","destination":"attribute_id"}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"values.*","conditions":[],"replacement":"values.$1.value"}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"attribute_code":"&{attribute_code}"},"childrenPattern":"values.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"extension_attributes.configurable_product_options.*.values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"magento-2-attribute-options-akeneo-code-to-magento-2-id","storageKey":"&{attribute_code}::&{value}","destination":"value_index"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"value_index"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"value_index","value":"&{value}","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["attribute_code","value"]}},"conditions":[]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"extension_attributes.configurable_product_options.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"values","value":"&{values[?value_index!=``]}","mappers":[]}]}},{"prototype":"pattern-move","parameters":{"pattern":"attribute_code","conditions":[],"replacement":"label"}},{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"string-upper-first","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"label"}}}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"magento-2-attribute-akeneo-code-to-magento-2-id","name":"Magento 2 - Attribute - Akeneo Code to Magento 2 Id","object":{"parameters":{"path":"magento-2-attribute-akeneo-code-to-magento-2-id-01K2PMG2FA7G1HCKPR60XRVVDJ","logger":{"parameters":{"actions":[]}}}},"description":"Akeneo Attribute Code into Magento 2 Attribute Id","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-fetch-the-category-ids","name":"Magento 2 - Send - Products (Preparations - fetch the category ID's)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[],"root":"extension_attributes.category_links"}},"destination":{"prototype":"structure","parameters":{"key":"position","keys":[],"root":"extension_attributes.category_links","value":"value"}},"stripEnclosures":true}},{"prototype":"pattern-move","parameters":{"pattern":"extension_attributes.category_links.*.value.category_id","conditions":[],"replacement":"extension_attributes.category_links.$1.category_id"}},{"prototype":"key-filter","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"extension_attributes.category_links.*.value"}},"conditions":[]}},{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"extension_attributes.category_links"}}}},{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"cast-int","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"extension_attributes.category_links.*.position"}}}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"extension_attributes.category_links.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"category_id","conditions":[],"replacement":"category_code"}},{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"magento-2-category-akeneo-code-to-id","storageKey":"&{category_code}","destination":"category_id"}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["category_code"]}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"magento-2-category-akeneo-code-to-id","name":"Magento 2 - Category - Akeneo code to id","object":{"parameters":{"path":"magento-2-category-akeneo-code-to-id-01K2PMG2HMG976PVH2WVMTXZ32","logger":{"parameters":{"actions":[]}}}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-simple-product-adjust-with-the-default-value","name":"Magento 2 - Send - Products (Preparations - Simple Product - Adjust with the default value)","object":{"prototype":"chain","parameters":{"transformers":["akeneo-to-magento-2-set-base-information",{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"extension_attributes.stock_item","value":"&{\"@magentoConfig\".stock_item}","mappers":[]}]}}]}},{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["@magentoConfig"]}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-to-magento-2-set-base-information","name":"Akeneo to Magento 2 - Set - Base Information","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"@magentoConfig.stock_item.qty","value":1,"mappers":[]},{"key":"@magentoConfig.stock_item.is_in_stock","value":true,"mappers":[]}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-configurable-product-remove-visibility-of-variants","name":"Magento 2 - Send - Products (Preparations - Configurable Product - remove visibility of variants)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"visibility","value":1,"mappers":[]}]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["category_linksX"],"root":"extension_attributes"}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-preparations-simple-product","name":"Magento 2 - Send - Products (Preparations - Simple Product)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["magento-2-send-products-preparations-fetch-the-attribute-set-id","magento-2-send-products-preparations-fetch-the-attributes","magento-2-send-products-preparations-fetch-the-category-ids",{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["configurable_product_links","configurable_product_options"],"root":"extension_attributes"}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-create-simple-product","name":"Magento 2 - Send - Products (Create simple Product)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"simple":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"magento-2-http-client","request":{"uri":"/rest/V1/products","method":"POST","payload":{"product":"&{@}"},"plugins":[],"payloadType":"data","authentications":[]}}}}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products","name":"Magento 2 - Send - Products","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["magento-2-send-products-build-configurable-product-payload","magento-2-send-products-create-configurable-product",{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-create-simple-product"]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"linked_products.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["magento-2-send-products-create-linked-product"]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-build-configurable-product-payload","name":"Magento 2 - Send - Products (Build configurable Product Payload)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"product","value":"&{@}","mappers":[]}]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["variants","configurable_product_options","temp"],"root":"product"}},"conditions":[]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["configurable_product_links"],"root":"product.extension_attributes"}},"conditions":[]}}]}},{"meta":{"name":"Build Linked Skus"},"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"pattern-copy","parameters":{"pattern":"variants.*.sku","conditions":[],"replacement":"linked_products.$1.childSku"}},{"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"sku":"&{sku}"},"childrenPattern":"linked_products.*"}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-create-configurable-product","name":"Magento 2 - Send - Products (Create configurable Product)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"configurable":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"magento-2-http-client","request":{"uri":"/rest/V1/products","method":"POST","payload":{"product":"&{product}"},"plugins":[],"payloadType":"data","authentications":[]}}}}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"magento-2-send-products-create-linked-product","name":"Magento 2 - Send - Products (Create Linked Product)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"linked":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"magento-2-http-client","request":{"uri":"/rest/all/V1/configurable-products/&{sku}/child","method":"POST","payload":{"childSku":"&{childSku}"},"plugins":[],"payloadType":"data","authentications":[]}}}}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"scheduler-entry","identifier":"alumio-to-magento-2-products-configurable-simple-incoming","name":"Alumio to Magento 2 - Products (Configurable + Simple) (Incoming)","object":{"parameters":{"job":[{"prototype":"run-incoming","parameters":{"incoming":"synchronize-products-akeneo-to-magento-2-fetch-storage-product-model-alumio-base"}},{"prototype":"run-incoming","parameters":{"incoming":"akeneo-fetch-simple-products-or-products-without-parent"}}],"handlers":[],"priority":2,"expression":"*/15 * * * *"}},"description":"Schedulers in this incoming are as follow :\n\n1. Run the incoming to fetch Alumio base Products from Alumio storage\n2. Run the incoming to fetch the Akeneo Simple products from Akeneo server","owner":null,"disabled":true}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"incoming-configuration","identifier":"akeneo-fetch-simple-products-or-products-without-parent","name":"Akeneo - Fetch - Simple products or products without parent","object":{"parameters":{"entityType":"base-product","subscriber":{"prototype":"http-subscriber","parameters":{"client":"akeneo-http-client","request":{"uri":"/api/rest/v1/products?limit=100&pagination_type=search_after&search=&{search}","payload":[],"plugins":[],"payloadType":"data","authentications":[]},"pagination":{"prototype":"next","parameters":{"pattern":"_links.next","pageLimit":1000}},"transformer":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"search","value":{"parent":[{"operator":"EMPTY"}]},"mappers":[{"prototype":"serialize-json","parameters":[]}]}]}}]}},"deserializer":{"prototype":"json","parameters":{"pattern":"_embedded.items","readMethod":"wholeFile","encodeInput":false}}}},"transformers":["akeneo-prepare-convert-values-to-localizations-and-custom-attributes","akeneo-prepare-convert-localizations-filter","akeneo-prepare-convert-product-and-product-model-categories-to-alumio-base","akeneo-prepare-convert-product-and-product-model-prices-to-alumio-base","akeneo-convert-product-to-alumio-base-product","akeneo-filter-simple-product"]}},"description":"There some products data without product model in Akeneo.\n\nThis will become a simple product for other system\n","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"http-client","identifier":"akeneo-http-client","name":"Akeneo - HTTP Client","object":{"prototype":"akeneo-http-client-v2","parameters":{"key":"","baseUri":"${AKENEO_BASE_URL}","clientId":"${AKENEO_CLIENT_ID}","password":"${AKENEO_PASSWORD}","username":"${AKENEO_USERNAME}","clientSecret":"${AKENEO_CLIENT_SECRET}","enableLogging":true,"loggerFormatter":"full"}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-values-to-localizations-and-custom-attributes","name":"Akeneo - Prepare convert - Values - To localizations and custom attributes","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"attribute_type"}},"conditions":[{"prototype":"equals","parameters":{"value":"pim_catalog_image"}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"_links"}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"combinedKey","value":"locale:?{locale}|scope:?{scope}","mappers":[]}]}},{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"attribute_type"},{"key":"reference_data_name"}]}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"structure","parameters":{"key":"combinedKey","keys":[],"value":"\"\""}},"destination":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"values.*.*","conditions":[],"replacement":"values.$2.$1"}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"values"}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}},{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"values.*.*.combinedKey"}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"*.data","conditions":[],"replacement":"customAttributes.$1"}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"*.scope","conditions":[],"replacement":"channelCode"}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"*.locale","conditions":[],"replacement":"localeCode"}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"values.\"locale:|scope:\".customAttributes","conditions":[],"replacement":"customAttributes"}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*"}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values"}}}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"values","conditions":[],"replacement":"localizations"}}]}}]}},"description":"This transformer will convert localizations data from Akeneo.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-localizations-filter","name":"Akeneo - Prepare Convert - Localizations filter","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"localizations"}},"nodeFilters":[{"prototype":"or-condition","parameters":{"filters":[{"prototype":"and-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"channelCode"}}}},{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"channelCode"}},"conditions":[{"prototype":"one-of","parameters":{"value":["ecommerce"]}}]}}]}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"channelCode"}}}}]}}],"nodeTransformers":[]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"localizations"}}}}]}}]}},"description":"We use this transformer to only allow any localization with channel code in **\"eCommerce\"**, if it has channel code.\n\nIf you need other channel code please add the value in the Node Filter.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-product-and-product-model-categories-to-alumio-base","name":"Akeneo - Prepare convert - Product and product model - Categories to Alumio Base","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[],"root":"categories"}},"destination":{"prototype":"structure","parameters":{"key":"temp","keys":[],"root":"categories","value":"categoryCode"}},"stripEnclosures":true}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"categories"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"temp"}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"categories"}}}}]}}]}},"description":"Akeneo - Prepare convert - Product and product model - Categories to Alumio Base","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-product-and-product-model-prices-to-alumio-base","name":"Akeneo - Prepare convert - Product and product model - Prices to Alumio Base","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"customAttributes.price","conditions":[],"replacement":"prices"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"prices.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"currency","conditions":[],"replacement":"currencyCode"}}]}}]}},"description":"Akeneo - Prepare convert - Product and product model - Prices to Alumio Base.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-convert-product-to-alumio-base-product","name":"Akeneo - Convert - Product - To Alumio Base product","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"customAttributes.sku","conditions":[],"replacement":"code"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["parent","parentCode"],["enabled","statusCode"],["family","attributeSetCode"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}},{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"uuid"},{"key":"_links"},{"key":"created"},{"key":"updated"},{"key":"associations"},{"key":"quantified_associations"},{"key":"metadata"}]}}]}}]}},"description":"This transformer will convert Akeneo product data into Alumio base product data.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-filter-simple-product","name":"Akeneo - Filter - Simple Product","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"type-setter","parameters":{"entityType":"base-product"}},{"meta":[],"prototype":"storage-filter-stored-entity","parameters":{"storage":"akeneo-filter-simple-products","addEntityToStorage":true}}]}},"description":"We use this transformer to filter previously created into task simple product to avoid duplication.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"akeneo-filter-simple-products","name":"Akeneo - Filter - Simple Products","object":{"parameters":{"path":"akeneo-filter-simple-products-01K2PMG2HTGB8SBE7S071F81SM","logger":{"parameters":{"actions":[]}}}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"scheduler-entry","identifier":"alumio-to-magento-2-simple-products-outgoing","name":"Alumio to Magento 2 - Simple Products (Outgoing)","object":{"parameters":{"job":[{"prototype":"run-outgoing","parameters":{"route":"synchronize-products-akeneo-to-magento-2-simple-products","numTasks":100}}],"handlers":[],"priority":2,"expression":"*/5 * * * *"}},"description":"Scheduler to Execute all tasks for Simple Products to Magento 2","owner":null,"disabled":true}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"route-configuration","identifier":"synchronize-products-akeneo-to-magento-2-simple-products","name":"Synchronize Products - Akeneo to Magento 2 (Simple Products)","object":{"parameters":{"incoming":"akeneo-fetch-simple-products-or-products-without-parent","outgoing":"magento-2-send-product","realtime":false,"transformers":[],"waitingStatus":false,"parallelExecution":[]}},"description":"","owner":null,"disabled":false}